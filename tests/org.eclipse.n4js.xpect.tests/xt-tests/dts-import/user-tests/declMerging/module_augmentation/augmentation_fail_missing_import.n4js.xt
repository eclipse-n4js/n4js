/*
 * Copyright (c) 2022 NumberFour AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *   NumberFour AG - Initial API and implementation
 */

/*
	XPECT_SETUP org.eclipse.n4js.xpect.tests.N4jsXtTest


	Workspace {
		Project "P" {
			Folder "src" {
				Folder "lib" {
					File "B.d.ts" { from="B.d.ts" }
				}
				File "A.d.ts" { from="A.d.ts" }
				File "G.d.ts" { from="G.d.ts" }
				
				ThisFile {}
			}
		}
	}
	
	
	File "A.d.ts" {
		export interface Ifc {
		    fieldM: number;
		    field1: string;
		}
		
		declare module "A" {
		    interface Ifc {
		        fieldG: number;
		        field1: number;
		    }
		}
	}

	File "B.d.ts" {
		// import * as X from "../A"; // fail since def2 is ambient
		declare module "../A" {
			export interface Ifc {
				field2: number;
			}
		}
	}
	
	File "G.d.ts" {
		declare module "A" {
		    export interface Ifc {
		        field2: number;
		    }
		}
	}

	END_SETUP
 */



// XPECT noerrors -->
import { Ifc as IfcM } from "./A";
// XPECT noerrors -->
import { Ifc as IfcG } from "A";

let ifcM: IfcM;

// XPECT noerrors -->
ifcM.field1;

// XPECT errors --> "Couldn't resolve reference to IdentifiableElement 'field2'." at "field2"
ifcM.field2;

// XPECT type of 'v01' --> string
let v01 = ifcM.field1;

// XPECT type of 'v02' --> «unknown»
let v02 = ifcM.field2;



let ifcG: IfcG;

// XPECT noerrors -->
ifcG.fieldG;

// XPECT noerrors -->
ifcG.field1;

// XPECT noerrors -->
ifcG.field2;

// XPECT type of 'v11' --> string
let v11 = ifcG.field1;

// XPECT type of 'v12' --> number
let v12 = ifcG.field2;
