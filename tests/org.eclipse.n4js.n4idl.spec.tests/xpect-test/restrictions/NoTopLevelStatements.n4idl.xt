/* XPECT_SETUP org.eclipse.n4js.n4idl.spec.tests.N4IDLModelVersionTest

   ResourceSet {
		ThisFile {}
		Resource "Somewhere.n4idl" {from="Somewhere.n4idl"}
	}
END_SETUP

*/

// XPECT noerrors
import {Something#1} from "restrictions/Somewhere"

// XPECT noerrors
class AllowedClass#1 extends Something#1 {}

// XPECT noerrors
interface AllowedInterface#1 {}

// XPECT noerrors
class AllowedEnum#1 {}

// XPECT errors -->"Top-level statements are not supported in N4JS Interface Definition Language Files (n4idl)." at "console.log("Disallowed");"
console.log("Disallowed");

// XPECT errors -->"Top-level statements are not supported in N4JS Interface Definition Language Files (n4idl)." at "var top = "level" + "statement";"
var top = "level" + "statement";

// XPECT noerrors
function allowedFunctionDeclaration() {
	console.log("Allowed statement in function body");
}

// disallowed top-level function call
// XPECT errors -->"Top-level statements are not supported in N4JS Interface Definition Language Files (n4idl)." at "allowedFunctionDeclaration();"
allowedFunctionDeclaration();

// XPECT noerrors
export var allowedExported = "VariableAssignment";

// XPECT errors -->"Top-level statements are not supported in N4JS Interface Definition Language Files (n4idl)." at "var disallowedLocal = "VariableAssignment";"
var disallowedLocal = "VariableAssignment";

// XPECT noerrors
migration (s : Something#1) -> (o : AllowedClass) {}

// XPECT errors -->"Top-level statements are not supported in N4JS Interface Definition Language Files (n4idl)." at "(function() { console.log("Basically top-level"); })();"
(function() { console.log("Basically top-level"); })();
